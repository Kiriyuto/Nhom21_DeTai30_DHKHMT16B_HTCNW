<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercise 07 (jQuery)</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>

    <script>
        $(document).ready(function () {
            function kiemtraTenDN() {
                let tenDN = $("#txtTenDN").val();
                let regexTenDN = /^[a-z]{4,}$/i;
                if (tenDN.trim() === '') {
                    $("#tbTenDN").html("Tên đăng nhập là bắt buộc");
                    return false;
                }

                if (tenDN.trim() !== '' && !regexTenDN.test(tenDN)) {
                    $("#tbTenDN").html("Tên đăng nhập phải lớn hơn 4 ký tự");
                    return false;
                }

                $("#tbTenDN").html("");
                return true;
            }

            let i = 0;

            function dangky() {
                if (!kiemtraTenDN())
                    return false;

                let tenDN = $("#txtTenDN").val();

                let row = "<tr><td>" + (++i) + "</td><td>" + tenDN + "</td></tr>";
                $("#myTable").append(row);
            }

            $("#txtTenDN").blur(kiemtraTenDN);
            $("#btnDangky").click(dangky);
        });
    </script>

</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <h1>Header</h1>
            </div>
        </div>
        <div class="row navbar navbar-expand">
            <div class="container-fluid">
                <div class="navbar-brand">My Website</div>
                <ul class="nav navbar-nav">
                    <li class="nav-item"><a class="nav-link">Home</a></li>
                    <li class="nav-item"><a class="nav-link">Products</a></li>
                    <li class="nav-item"><a class="nav-link">Services</a></li>
                    <div class="dropdown">
                        <li class="dropdown-toggle mt-2 text-primary" data-toggle="dropdown">Members
                            <ul class="dropdown-menu">
                                <li class="nav-item"><a class="nav-link">Login</a></li>
                                <li class="nav-item"><a class="nav-link">Register</a></li>
                            </ul>
                        </li>
                    </div>
                    <li class="nav-item"><a class="nav-link">About</a></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-4 bg-secondary"></div>
            <div class="col-8 p-3">
                <form action="" id="frm">
                    <div class="form-group form-row">
                        <h1>Đăng ký</h1>
                    </div>
                    <div class="form-group form-row">
                        <label class="col-4" for="txtTenDN">Tên đăng nhập</label>
                        <input type="text" value="Lanh" id="txtTenDN" class="col-5 form-control" required="required">
                        <span class="col-3 text-danger font-italic" id="tbTenDN"></span>
                    </div>

                    <div>
                        <label class="col-4"></label>
                        <button type="button" class="btn btn-dark" id="btnDangky">Đăng ký</button>
                    </div>

                </form>

                <table class="table table-hover table-striped table-bordered">
                    <thead>
                        <tr>
                            <th>STT</th>
                            <th>Tên Đăng nhập</th>
                        </tr>
                    </thead>
                    <tbody id="myTable">
                        <!-- <tr><td></td><td></td></tr> -->
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row">Footer</div>
    </div>
</body>

</html>